<header>
  <nav>
    <div class="logo">
      <a href="/" class="clickable">CoctailDebucle</a>
    </div>
    <div class="login-container">
      <div class="navigationSection">
        <p-button class="loginButton" [label]="'HEADER.LOGIN' | translate" *ngIf="!isLoggedIn" (click)="popupForm.togglePopup()">
          <i class="fas fa-user"></i>
        </p-button>
        <div class="nav-buttons" *ngIf="isLoggedIn">
          <p-button class="nav-button" [label]="'HEADER.ADMIN' | translate" *ngIf="isAdmin && currentUrl !== '/admin'" (click)="navigateToAdmin()"></p-button>
          <p-button class="nav-button" [label]="'HEADER.PROFILE' | translate" *ngIf="currentUrl !== '/profile'" (click)="navigateToProfile()"></p-button>
          <p-button  class="nav-button" [label]="'HEADER.LOGOUT' | translate" (click)="popupForm.logout()"></p-button>
        </div>
      </div>
    </div>
    <div class="alternate-login">
      <p-button (click)="toggleNavDropdown()">
        <i class="pi pi-list"></i>
      </p-button>
      <div class="dropdown-menu" *ngIf="showNavDropdown && isLoggedIn">
        <p-button class="nav-button" label="Admin" *ngIf="isAdmin" (click)="navigateToAdmin(); toggleNavDropdown()"></p-button>
        <p-button class="nav-button" label="Profile" *ngIf="currentUrl !== '/profile'" (click)="navigateToProfile(); toggleNavDropdown()"></p-button>
        <p-button class="nav-button" label="Logout" (click)="popupForm.logout(); toggleNavDropdown()"></p-button>
      </div>
      <div class="dropdown-menu" *ngIf="showNavDropdown && !isLoggedIn">
        <p-button class="nav-button" label="Login" (click)="popupForm.togglePopup()"></p-button>
      </div>
    </div>
  </nav>
</header>

<app-popup-form #popupForm
   (loginSuccessful)="handleLogin($event)"
   (logoutSuccessful)="handleLogout()"> 
</app-popup-form>
